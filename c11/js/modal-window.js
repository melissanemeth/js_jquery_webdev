var modal = (function() {  // store the window  var $window = $(window);  // create div for modal  var $modal = $('<div class="modal"/>');  var $content = $('<div class="modal-content"/>');  var $close = $('<button role="button" class="modal-close">close</button>');  // add button to close modal  $modal.append($content, $close);  $close.on('click', function(e){    e.preventDefault();    // clicking button closes modal    modal.close();  });  return {    center: function() {      // Calculate distance from top and left of window to center the modal      var top = Math.max($window.height() - $modal.outerHeight(), 0) / 2;      var left = Math.max($window.width() - $modal.outerWidth(), 0) / 2;      $modal.css({        // center vertically        top:top + $window.scrollTop(),        // center horizontally        left:left + $window.scrollLeft()      });    },    open: function(settings) {      // set new content of modal      $content.empty().append(settings.content);      $modal.css({        width: settings.width || 'auto',        height: settings.height || 'auto'        // add modal to page      }).appendTo('body');      modal.center();      // call center method if window is resized      $(window).on('resize', modal.center);    },    close: function() {      // remove content from modal      $content.empty();      // remove modal from page      $modal.detach();      // remove event handler      $(window).off('resize', modal.center);    }  };}());